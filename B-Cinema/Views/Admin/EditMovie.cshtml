@model BookingCinema.Models.Movie
@{
    ViewData["Title"] = "Edit Movie";
}

<h2 class="text-white mb-4">Edit Movie</h2>

@Html.ValidationSummary()

<form asp-action="EditMovie" method="post" enctype="multipart/form-data">
    <input type="hidden" asp-for="Id" />
    <input type="hidden" asp-for="ImagePath" />

    <div class="mb-3">
        <label>Title</label>
        <input asp-for="Title" class="form-control" required />
    </div>

    <div class="mb-3">
        <label>Description</label>
        <textarea asp-for="Description" class="form-control" required></textarea>
    </div>

    <div class="mb-3">
        <label>Duration (minutes)</label>
        <input asp-for="Duration" type="number" class="form-control" required />
    </div>

    <div class="mb-3">
        <label>Price</label>
        <input asp-for="Price" type="number" step="0.01" class="form-control" required />
    </div>

    <!-- ✅ Existing Image Preview -->
    @if (!string.IsNullOrEmpty(Model.ImagePath))
    {
        <div class="mb-3">
            <label>Current Image</label><br />
            <img src="@Model.ImagePath"
                 style="height:180px;border-radius:8px;border:2px solid #dc3545;" />
        </div>
    }

    <!-- ✅ Upload New Image -->
    <div class="mb-3">
        <label>Change Image</label>
        <input type="file" name="MovieImage" class="form-control" />
    </div>

    <button type="submit" class="btn btn-primary">Update Movie</button>
</form>

<a asp-action="Dashboard" class="btn btn-secondary mt-3">Back to Dashboard</a>
